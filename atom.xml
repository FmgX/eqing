<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://eqing.vercel.app</id>
    <title>俄顷</title>
    <updated>2022-03-17T06:37:36.344Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://eqing.vercel.app"/>
    <link rel="self" href="https://eqing.vercel.app/atom.xml"/>
    <subtitle>温故而知新</subtitle>
    <logo>https://eqing.vercel.app/images/avatar.png</logo>
    <icon>https://eqing.vercel.app/favicon.ico</icon>
    <rights>All rights reserved 2022, 俄顷</rights>
    <entry>
        <title type="html"><![CDATA[宝塔面板安装alist 阿里云盘]]></title>
        <id>https://eqing.vercel.app/post/bao-ta-mian-ban-an-zhuang-alist-a-li-yun-pan/</id>
        <link href="https://eqing.vercel.app/post/bao-ta-mian-ban-an-zhuang-alist-a-li-yun-pan/">
        </link>
        <updated>2021-09-11T06:20:32.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="准备工作">准备工作</h2>
<h3 id="首先下载前端和后端软件">首先下载前端和后端软件</h3>
<p><mark>本文提供的方法已经不适用新版的alist</mark><br>
=<mark>如果下载速度不理想可以看文末</mark>=</p>
<p>![前端](https://gitee.com/fongsera/tu/raw/master/宝塔面板安装alist 阿里云盘/y4mJ4qwIXKh3F_EDDAZad6qAxSJOivh4yxwshQ_1E1UixXLwObLWol3E--OFtHpIkVSr2sQJyoxEtSHO2CEeXkGG1roAeaTn39Soje5XCxfNWCflROBTRm7IPxWQVZubIgY0ssutPI_XitPRgy0b76A7JxmefC5WhbGnlKCqABGCqbC8kim74w72dECE0N485Pj)</p>
<p>![后端](https://gitee.com/fongsera/tu/raw/master/宝塔面板安装alist 阿里云盘/y4mDeuyKRCVxKOgKpNNyd29uElskW7Ry9MSrd2b_zx5WF-3NJT3hqwhm_jVSn0F4XgAk9NVXy__giAoKeYxNXiH2IF61OpdsnY_Aqc3eWzBVvZx2pfq5scI-RbDSh9sbj7Dgdyb65tXA0E2SgvWqd3q3dec0gUrnBgi-mgv_uII9y3FAqBEOSe79eSyB2keV17e)</p>
<h3 id="获取refresh_token">获取refresh_token</h3>
<p>尝试了网上的很多方法，不知道为什么就这个管用。</p>
<p>![](https://gitee.com/fongsera/tu/raw/master/宝塔面板安装alist 阿里云盘/y4m29pnmQ3bdqs83DcicSxELcA3zHTAz3HEcOYplNOXP8AOIzW1HHEbngblVn9yGWdwVUngstNLT0nZqQ2d6XvxSufMac1Ecj68smWG-n2M4nMZ1GMJw0LV-5_VhTZ7q6W-rkukb_Pxf7awd82b0tWyZKt10KxIBdNNeG01kQeylAoXlGg1SgqAusXVojVdwiGG)</p>
<p>从920516758的QQ群里找到的，下载链接在文末</p>
<p>到现在准备工作完成了</p>
<h2 id="安装">安装</h2>
<p>将准备好的文件上传到服务器</p>
<p>![](https://gitee.com/fongsera/tu/raw/master/宝塔面板安装alist 阿里云盘/y4mbjDC93rG_3LKNSraajCyZlOqmnrHRCqybL5mab9trb1q8_Z-WGEanaza93RvP8xJH_Cv4K37fXMGRuaJpjQCbu6I5qZRU-AXSvDWFIbtz0fq1OQBWaksnx4nDnhhJISnrlSg4XXYzOT5eA25AK16_FnjbjU4K8wcBwDXaXl6bAV8tIfQ2y7y10DPjo4_BBQi)</p>
<p>上传好后在新建一个 conf.yml 文件</p>
<p>一般文件夹中就有两个文件alist、conf.yml和一个文件夹dist</p>
<p>conf.yml配置如下</p>
<pre><code>info:
  title: AList #标题
  logo: &quot;&quot; #网站logo 如果填写,则会替换掉默认的
  footer_text: Xhofe's Blog #网页底部文字
  footer_url: https://www.nn.ci #网页底部文字链接
  music_img: https://img.xhofe.top/2020/12/19/0f8b57866bdb5.gif #预览音乐文件时的图片
  check_update: true #前端是否显示更新
  script: #自定义脚本,可以是脚本的链接，也可以直接是脚本内容
  autoplay: true #视频是否自动播放
  preview:
    text: [txt,htm,html,xml,java,properties,sql,js,md,json,conf,ini,vue,php,py,bat,gitignore,yml,go,sh,c,cpp,h,hpp] #要预览的文本文件的后缀，可以自行添加
server:
  address: &quot;0.0.0.0&quot;
  port: &quot;5244&quot;
  search: true
  download: true
  static: dist
  site_url: '*'
  password: password #用于重建目录的密码，像是刷新页面
  api_url: https://api.aliyundrive.com/v2
  max_files_count: 3000
  drives:
  - refresh_token: xxx #获取的refresh_token填到xxx
    root_folder: root #根目录的file_id
    name: drive0 #盘名，多个盘不可重复，这里只是示例，不是一定要叫这个名字，可随意修改
    password: pass #该盘密码，空（''）则不设密码，修改需要重建生效
    hide: false #是否在主页隐藏该盘，不可全部隐藏，至少暴露一个
  - refresh_token: xxx #只有一个盘的话，该段完全可以删除，反之有更多可以继续添加
    root_folder: root
    name: drive1
    password: pass
    hide: false
database:
  type: sqlite3
  dBFile: alist.db

</code></pre>
<p>在该文件夹下面执行下面的命令（Linux）</p>
<pre><code>chmod +x alist
nohup ./alist &gt; log.log 2&gt;&amp;1 &amp;

</code></pre>
<p>跑起来了后可以用http://ip:5244进行查看。无法访问的话去 log.log文件里，看怎么回事。</p>
<h2 id="反代">反代</h2>
<p>可以启动后就是反代了之前写<a href="https://eqing.vercel.app/post/zao-cloudreve-pian/">cloudreve篇</a>的时候写过这个</p>
<p><a href="">点这里</a>进行查看。不过这个alist不用那个绿框框的方法</p>
<p>点这里进行查看。不过这个alist不用那个绿框框的方法</p>
<h2 id="进程守护">进程守护</h2>
<p>这个按照往上面的做法没有成功，官方给出的方法也没有尝试。就先这样吧，没有进程守护也可以用。</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="准备工作">准备工作</h2>
<h3 id="首先下载前端和后端软件">首先下载前端和后端软件</h3>
<p><mark>本文提供的方法已经不适用新版的alist</mark><br>
=<mark>如果下载速度不理想可以看文末</mark>=</p>
<p>![前端](https://gitee.com/fongsera/tu/raw/master/宝塔面板安装alist 阿里云盘/y4mJ4qwIXKh3F_EDDAZad6qAxSJOivh4yxwshQ_1E1UixXLwObLWol3E--OFtHpIkVSr2sQJyoxEtSHO2CEeXkGG1roAeaTn39Soje5XCxfNWCflROBTRm7IPxWQVZubIgY0ssutPI_XitPRgy0b76A7JxmefC5WhbGnlKCqABGCqbC8kim74w72dECE0N485Pj)</p>
<p>![后端](https://gitee.com/fongsera/tu/raw/master/宝塔面板安装alist 阿里云盘/y4mDeuyKRCVxKOgKpNNyd29uElskW7Ry9MSrd2b_zx5WF-3NJT3hqwhm_jVSn0F4XgAk9NVXy__giAoKeYxNXiH2IF61OpdsnY_Aqc3eWzBVvZx2pfq5scI-RbDSh9sbj7Dgdyb65tXA0E2SgvWqd3q3dec0gUrnBgi-mgv_uII9y3FAqBEOSe79eSyB2keV17e)</p>
<h3 id="获取refresh_token">获取refresh_token</h3>
<p>尝试了网上的很多方法，不知道为什么就这个管用。</p>
<p>![](https://gitee.com/fongsera/tu/raw/master/宝塔面板安装alist 阿里云盘/y4m29pnmQ3bdqs83DcicSxELcA3zHTAz3HEcOYplNOXP8AOIzW1HHEbngblVn9yGWdwVUngstNLT0nZqQ2d6XvxSufMac1Ecj68smWG-n2M4nMZ1GMJw0LV-5_VhTZ7q6W-rkukb_Pxf7awd82b0tWyZKt10KxIBdNNeG01kQeylAoXlGg1SgqAusXVojVdwiGG)</p>
<p>从920516758的QQ群里找到的，下载链接在文末</p>
<p>到现在准备工作完成了</p>
<h2 id="安装">安装</h2>
<p>将准备好的文件上传到服务器</p>
<p>![](https://gitee.com/fongsera/tu/raw/master/宝塔面板安装alist 阿里云盘/y4mbjDC93rG_3LKNSraajCyZlOqmnrHRCqybL5mab9trb1q8_Z-WGEanaza93RvP8xJH_Cv4K37fXMGRuaJpjQCbu6I5qZRU-AXSvDWFIbtz0fq1OQBWaksnx4nDnhhJISnrlSg4XXYzOT5eA25AK16_FnjbjU4K8wcBwDXaXl6bAV8tIfQ2y7y10DPjo4_BBQi)</p>
<p>上传好后在新建一个 conf.yml 文件</p>
<p>一般文件夹中就有两个文件alist、conf.yml和一个文件夹dist</p>
<p>conf.yml配置如下</p>
<pre><code>info:
  title: AList #标题
  logo: &quot;&quot; #网站logo 如果填写,则会替换掉默认的
  footer_text: Xhofe's Blog #网页底部文字
  footer_url: https://www.nn.ci #网页底部文字链接
  music_img: https://img.xhofe.top/2020/12/19/0f8b57866bdb5.gif #预览音乐文件时的图片
  check_update: true #前端是否显示更新
  script: #自定义脚本,可以是脚本的链接，也可以直接是脚本内容
  autoplay: true #视频是否自动播放
  preview:
    text: [txt,htm,html,xml,java,properties,sql,js,md,json,conf,ini,vue,php,py,bat,gitignore,yml,go,sh,c,cpp,h,hpp] #要预览的文本文件的后缀，可以自行添加
server:
  address: &quot;0.0.0.0&quot;
  port: &quot;5244&quot;
  search: true
  download: true
  static: dist
  site_url: '*'
  password: password #用于重建目录的密码，像是刷新页面
  api_url: https://api.aliyundrive.com/v2
  max_files_count: 3000
  drives:
  - refresh_token: xxx #获取的refresh_token填到xxx
    root_folder: root #根目录的file_id
    name: drive0 #盘名，多个盘不可重复，这里只是示例，不是一定要叫这个名字，可随意修改
    password: pass #该盘密码，空（''）则不设密码，修改需要重建生效
    hide: false #是否在主页隐藏该盘，不可全部隐藏，至少暴露一个
  - refresh_token: xxx #只有一个盘的话，该段完全可以删除，反之有更多可以继续添加
    root_folder: root
    name: drive1
    password: pass
    hide: false
database:
  type: sqlite3
  dBFile: alist.db

</code></pre>
<p>在该文件夹下面执行下面的命令（Linux）</p>
<pre><code>chmod +x alist
nohup ./alist &gt; log.log 2&gt;&amp;1 &amp;

</code></pre>
<p>跑起来了后可以用http://ip:5244进行查看。无法访问的话去 log.log文件里，看怎么回事。</p>
<h2 id="反代">反代</h2>
<p>可以启动后就是反代了之前写<a href="https://eqing.vercel.app/post/zao-cloudreve-pian/">cloudreve篇</a>的时候写过这个</p>
<p><a href="">点这里</a>进行查看。不过这个alist不用那个绿框框的方法</p>
<p>点这里进行查看。不过这个alist不用那个绿框框的方法</p>
<h2 id="进程守护">进程守护</h2>
<p>这个按照往上面的做法没有成功，官方给出的方法也没有尝试。就先这样吧，没有进程守护也可以用。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[早--服务器Aria篇]]></title>
        <id>https://eqing.vercel.app/post/zao-fu-wu-qi-aria-pian/</id>
        <link href="https://eqing.vercel.app/post/zao-fu-wu-qi-aria-pian/">
        </link>
        <updated>2021-07-28T06:02:23.000Z</updated>
    </entry>
    <entry>
        <title type="html"><![CDATA[早--cloudreve使用过程中的问题]]></title>
        <id>https://eqing.vercel.app/post/cloudreve-shi-yong-guo-cheng-zhong-de-wen-ti/</id>
        <link href="https://eqing.vercel.app/post/cloudreve-shi-yong-guo-cheng-zhong-de-wen-ti/">
        </link>
        <updated>2021-07-23T05:18:40.000Z</updated>
        <summary type="html"><![CDATA[<p>这里面是我在使用cloudreve使用过程中的问题，希望可以给你带来帮助</p>
<div id="div1">
</div>
<h2 id="1小文件可以上传大文件不行">1.小文件可以上传，大文件不行</h2>
<p>小文件可以上传但是一旦大于一个值后就不能上传了一查也不是cloudreve的上传参数的问题。一时间找不到问题。</p>
<p>可能是Nginx的设置问题。在宝塔软件商店打开Nginx管理进行设置</p>
<figure data-type="image" tabindex="1"><img src="https://gitee.com/fongsera/tu/raw/master/cloudreve%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98/y4m9XMamvTKXTGNhw1H01iOP4jkXUIXwmARiu5iAgrC5iil9FORz7ytfWIYDG07mwAsjCIbWpZdDcucMwENBoL6MOot-OIgwUFb9FjcWmRwj1pxII6UG-E2QvakjTzS6gA5iYY3MhGDJd2jfMMMrMx0iJddEYBzqUdgFpQ4CYrwVRW1_J4yyeEvw6ZFooayNdLM" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="2"><img src="https://gitee.com/fongsera/tu/raw/master/cloudreve%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98/y4mVSiTJbbBasTfQiVoVeVfdBjQBtm_Qte4rcHBGk9ICSBqvskxNEYmqUgJx1EKzYP6wkCZdVZRfbmXLH65cts8qxQ-HzQ8jwtruMwBs0E5kPzdIujgs1wHTJU6HPaN5Tz2YnFtiVIxRfgkYY7VKN3WZrA_qM_IuNCVXymgthzitjIDiVPMGzoQbZzchzzxnIS8" alt="" loading="lazy"></figure>
<p>好了</p>
]]></summary>
        <content type="html"><![CDATA[<p>这里面是我在使用cloudreve使用过程中的问题，希望可以给你带来帮助</p>
<div id="div1">
</div>
<h2 id="1小文件可以上传大文件不行">1.小文件可以上传，大文件不行</h2>
<p>小文件可以上传但是一旦大于一个值后就不能上传了一查也不是cloudreve的上传参数的问题。一时间找不到问题。</p>
<p>可能是Nginx的设置问题。在宝塔软件商店打开Nginx管理进行设置</p>
<figure data-type="image" tabindex="1"><img src="https://gitee.com/fongsera/tu/raw/master/cloudreve%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98/y4m9XMamvTKXTGNhw1H01iOP4jkXUIXwmARiu5iAgrC5iil9FORz7ytfWIYDG07mwAsjCIbWpZdDcucMwENBoL6MOot-OIgwUFb9FjcWmRwj1pxII6UG-E2QvakjTzS6gA5iYY3MhGDJd2jfMMMrMx0iJddEYBzqUdgFpQ4CYrwVRW1_J4yyeEvw6ZFooayNdLM" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="2"><img src="https://gitee.com/fongsera/tu/raw/master/cloudreve%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98/y4mVSiTJbbBasTfQiVoVeVfdBjQBtm_Qte4rcHBGk9ICSBqvskxNEYmqUgJx1EKzYP6wkCZdVZRfbmXLH65cts8qxQ-HzQ8jwtruMwBs0E5kPzdIujgs1wHTJU6HPaN5Tz2YnFtiVIxRfgkYY7VKN3WZrA_qM_IuNCVXymgthzitjIDiVPMGzoQbZzchzzxnIS8" alt="" loading="lazy"></figure>
<p>好了</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[早--OneDrive 5T云盘申请]]></title>
        <id>https://eqing.vercel.app/post/onedrive-5t-yun-pan-shen-qing/</id>
        <link href="https://eqing.vercel.app/post/onedrive-5t-yun-pan-shen-qing/">
        </link>
        <updated>2021-07-22T05:06:19.000Z</updated>
    </entry>
    <entry>
        <title type="html"><![CDATA[早--Cloudreve篇]]></title>
        <id>https://eqing.vercel.app/post/zao-cloudreve-pian/</id>
        <link href="https://eqing.vercel.app/post/zao-cloudreve-pian/">
        </link>
        <updated>2021-07-18T08:02:08.000Z</updated>
        <summary type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mc7eCKOIOXJkY0V4Gt670NS5Ngx1ylrUGpoBJRFrXyaEouRgMbJCmJz5vdShl_puHT4tV4U5mXo0vO04zCapG1drorVlNplGV-8SubaZd7J9u9EcU8JCL6hoieVYcLq27jeZcDRU444pz_6268AJDFQxDPDC-FlYEOVD09U_-eZo8CteKJKjnTwLrBG7Hr8nb" alt="" loading="lazy"></figure>
<h2 id="安装">安装</h2>
<p>我这里用的是宝塔安装的，我觉得宝塔更加方便些对于新手而言。</p>
<p>你要是想用域名访问所创建cloudreve服务就得有个域名如果没有域名我们也可以使用IP来访问。我这里使用的是域名访问，IP访问的话就是少了个重定向</p>
<p>在宝塔的网站那里 添加站点将你的域名添写即可，提交之后会创建一个和你的域名相同的文件夹</p>
<p>以前是可以从<a href="http://cloudreve.org/">cloudreve</a>网站下载但是现在只能从他们的<a href="https://github.com/cloudreve/Cloudreve/releases">GitHub</a>页面上下载了。</p>
<p><mark>如果下载速度不理想可以看文末 [下载中心]里面提供了文件</mark></p>
<p>根据自己的需求下载相应的文件</p>
<figure data-type="image" tabindex="2"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4m7Bb3WXhRsgeOFIB2Uc5NdbGcYiwdAkKAScvNYbEmBk9OKzIVbseEocU4MmoQdNLMxNVxpLrYO714ORTyPG8SqZ94efbs2Eae_Bt3SsKbBUZwciOBmsqBzx-vwo_6nnB7aXNCRm0hUDr8Pj12ayAGZL-bFPJY1ymP1cM3hAThJo6Sxb7HXTy7UV2q70xivxmY" alt="" loading="lazy"></figure>
<p>下载好了的文件上传到你在之前自动创建的文件夹</p>
<figure data-type="image" tabindex="3"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mXZblb61mdGBzyHK9IQZexWSBh0yTnhDUMZQlW3vbj2yYtRnFmTv16PY7Ok6wrFJPK2cmiT_vjE2KGhS_8f8bYbtpSz-dQn8_GAXJiV3NixH4p29exHvNs6wqH8d2kCPjTRJSF4NjG-JlUbjkdYtJPbnsLjwoklmKVdkRVte_U9JQn_C7SK7NED84jZ2g842k" alt="" loading="lazy"></figure>
<p>上传好后在文件夹运行终端执行以下命令</p>
<pre><code class="language-javascript">
#解压获取到的主程序
tar -zxvf 这里是你下载的文件的名字
 
# 赋予执行权限
chmod +x ./cloudreve
 
# 启动 Cloudreve
./cloudreve
</code></pre>
<p>Cloudreve 在首次启动时，会创建初始管理员账号，注意保管好要不然只能去删除同级目录下的cloudreve.db</p>
<p>到这里就算安装好了</p>
<p>Cloudreve 默认会监听5212端口记着放行端口，有的服务器需要在服务器商提供的管理面板上修改安全组。</p>
<p>你可以在浏览器中访问http://服务器IP:5212进入 Cloudreve</p>
<h3 id="反向代理">反向代理</h3>
<p><mark>一般说使用这个宝塔的反代就可以，但是我在又一次进行反代的时候出现了问题，可以去看看这个<a href="https://eqing.vercel.app/post/cloudreve-shi-yong-guo-cheng-zhong-de-wen-ti/#div2">cloudreve</a>使用过程中的问题</mark></p>
<p>如果不打算使用域名访问可以忽略这一步</p>
<p>在宝塔的网站那里</p>
<figure data-type="image" tabindex="4"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mMBKWE2itrfKiZeMhjygKCddUgGxwdVfkJ5eslaRWWIt4MPBJUL_8ajjTK_1GBSgB_YIkYC9GQ2iB57cpWEcbKz86zRTptlp7ONWi_TrVCoQ9hCZuurF4PsGaeVEErUvF1_mTvRlONjyKPRxnXr30bNTukf91S_3BVwFywb3VPhEs1EeqgrP_DgTYkJSj2_vD" alt="" loading="lazy"></figure>
<p>然后</p>
<figure data-type="image" tabindex="5"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mzsOM3FjQENf5vpuvi2H1d5UBXLUO-VBT_NqqzxUdns035oCu7QehwjByi6zMbKA6mEGY4UXXtiJOA2cyrSa9eAjufpvJpd0xrNiAJV5mzgE3Xi_p6ULRSmDFM_lbgI2OwAqSMkDTFNAwjSLIzIqcWUV84XVaxd_WMtwUQ8hJEJYyI1dSZB-qn9OF8u1W13Pt" alt="" loading="lazy"></figure>
<p>再然后</p>
<figure data-type="image" tabindex="6"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mbLNnei26rlFMo4ZPPM7chxisMD8zRa6iVwpP5NMW9puSohGLqPvZMTSQYftnHJeNERMkv9xpd9BsxHLG-0sGPcN7sqh7HJtNLzvEk926T_kSIIo2vFtFIbPQpQP1ibxO4Ag_r-fhjwok6XG3RHOQO-jvGqdQxWyVLMwf-bYd7BNLHHBNJWgBjJgQfzCIsuUv" alt="" loading="lazy"></figure>
<p>就此反代也就弄好了</p>
<h3 id="进程守护">进程守护</h3>
<p>可以使用了但是要保证服务的稳定性使用要是用Supervisor来守护进程</p>
<p>到宝塔的应用商店搜索Supervisor管理器 安装</p>
<p>点开然后添加进程</p>
<p>每个人的目录可能不太一样，</p>
<pre><code>运行目录
/www/wwwroot/cloud.fongsera.online/
启动目录
/www/wwwroot/cloud.fongsera.online/cloudreve

</code></pre>
<figure data-type="image" tabindex="7"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mtal34kk5Vo-TqjqWk9zhF0qyBJQgtCUyiwpo30W-rSCZnVbeGNDNwzFu6XIxBoOAMREFRyWwtH9PiEroG47mMNZYc45yxuilvmkEydEpfKzTHkfZnk_BCPd-JjqrlhEBHk18R-OTKX2ATGUQHRONSUZafltvCApESTH7nYutnFeb0lA_21YzzCCNoLUfEkaR" alt="" loading="lazy"></figure>
<p>点确定就可以稳定运行了</p>
<h2 id="进阶玩法">进阶玩法</h2>
<h3 id="挂载onedrive">挂载Onedrive</h3>
<p>这里可以使用免费的5G套餐的，也可以使用教育邮箱申请的。这两个不论哪一个都是国际版的。</p>
<p>在cloudreve的界面找到管理面板，点击储存策略，点击添加储存策略，选择onedrive</p>
<figure data-type="image" tabindex="8"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4m8CEnqD5dL4war0kl2SR6jHsTLY-78ySYDj-uXJ0ZTrtSyFgpMdcghV3oLvWAR4h2l6C_bw0nUKrdQiYTt1wPkl_jaORhqicON4zxiFCp8at37VwYCKgxaFP0DL6hBxsdlI4Ta-CBqYgKm_wCBiDZdMnJSIHTF0lyIwUmQ2suIawDsE9B1oHzEEQazA1ZFmuG" alt="" loading="lazy"></figure>
<p>这些步骤里头较为主要的是③④⑤，国际版的前往Azure Active Directory 控制台 (国际版账号)</p>
<figure data-type="image" tabindex="9"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mi_jbMQFevxrr01AITVvePMYrY0XMdhwdzzsCNHASBXK5NGAAPBNMguWW5qNqQWH3I5yySEoxHtvkP-Jgu8Jqt4M0DYeCf6iWYdDCLQoHqCjgHxf90C_NTZL9EglyclPvsjOp2DUrex-QyZshFVjHMCL3ARdrMG_PGNq0BJz5GRs572FGMG88ybQiAUvzokV6" alt="" loading="lazy"></figure>
<p>进入控制台后再控制台页面的左侧，有一个应用程序注册或者叫应用注册的两个是一个东西。</p>
<figure data-type="image" tabindex="10"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mTPiOXZQCYq1CicUV8mezcDb9oOMxXdtOS7zCnxHBRKaAUuPQmmsY69_was3rleI_IijLO7-vrquubHxuG2J6CZELOf0m52aVHMzZC8-JajVs_Awss51om2dLW6T1m_-jiV3EbWYF1IY0CGCSMWBefG7155FmAHZ8GbLRtA0ACpDwmE8RignbiL5XcPDKxXir" alt="" loading="lazy"></figure>
<p>点击之后在点击新增注册</p>
<figure data-type="image" tabindex="11"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mrIJQVBQAq-WK2yRR9rTboq44rtX92KVIOXrgoQH7sb4WIm7wEik0BJhqtcVnSewhTstjkySXA5DiMm5PkcZo8A0kO36xuw6wmBq4QRcTFUc68mXSFUDWUPPInmDLnbgXJxFrSVjCdKLg6Z01Ve3acc7xOWkloJsNIzrj3kJb6eSUUhUj-Y2VTBZ3peE02AO0" alt="" loading="lazy"></figure>
<p>名字随便填，在支援的账户类型里选择任何组织目录(任何 Azure AD 目录 – 多租户)中的帐户，下面的重新导向URI里填写上面③中给的URI</p>
<figure data-type="image" tabindex="12"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mwJeyF7J4sVYTRRv2ANXmbxIL91cj_0OS8vph1WF3K-kLBS8jru80GInb-GZzk1sGufiX3LrCrFbfzeDC3smHkyNfdq43Xfw3o8Lp8HypNbqHelPx31M6azWVTBIFri8dd1eMshXG_NeZg3b6-XNWMuL0KciBDlRkHYPlpHdf2PdIWsFs5lmfMsLz1we_ehy4" alt="" loading="lazy"></figure>
<p>随后给出一个应用程序（客户端）ID，把这个填到④里面。在这个页面的左侧有一个证书和密码点击</p>
<figure data-type="image" tabindex="13"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mYk8FyrzIHGzwpKYYbLXuZAzXGTYo1bC-ITpkgmV34RewHK681Xnv1BbILqv9Ufjuk1lOn3ywQVypPx6xsxpeYNSe6GnlW7lQ_3zFHMVVPvBeF1gnAZA5hH-gL_bxTBI6MDboEVuHCAQZeFi66exEs3x0tzLn5-kCWXjYvGENNcen22xwb-gg2p7zvZkDHz0p" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="14"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mhZKE0XoEE9Qkt-Ac0Qns02i2p748-Iu4GDyXMpOGfRtY1yGf57I9fftEJxmFG10hLVjYpDUOshXoFLIaRj5oZiPQtMkCgRgsRQZDG_Zf1kGYd_6YYjdIMth4vGaC-EwYADCgp__vcqEa_GLBQX1kK3JWQG42kh95CblooHAR34cmQewfn7aaEPEMRp8BP9kA" alt="" loading="lazy"></figure>
<p>添加客户端密码，cloudreve的官方说可以设置截止时限为永久但实际只可以设置最长为24个月，应该是微软修改了规则了</p>
<figure data-type="image" tabindex="15"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mWv6drjNx2i1eyCvF-Py8t7PRp-UMu9OZ5Kbq1-nvijtezc2U9gBqkRjMHGrN73y-svXhjnYd4nR4BvjatDEvmqSOMe7mfF0Ng3iCWGcF4JROfEq9-TOj5azr7Qf8oCGAy1I4xM69C9wuGr_D0fxpdvhcdFb3_5ig6Qvy8RnTRvEHnz_cgYj5dzm8iDY9yK9i" alt="" loading="lazy"></figure>
<p>添加好后将客户端密码的值填入⑤里面就没事了。</p>
<figure data-type="image" tabindex="16"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4meH1Nc_kO6BS_G33x5VFJr3PeFkhs7gmB72NswosCOETB1oFnJFm6egt-TGnqMPNyUyPbZ1KkpvyNPCBlxLP6BcSL1vc5soeFp9HXYKw60wCaCClci0YGLiBMc8Ox_qpAhmEm72rzCdMQy80MWnIVF7pKkuii9T5SgHZByQUHEZinWghpbUa76-BplC7_o_2p" alt="" loading="lazy"></figure>
<p>接下来就是点击下一步下一步了。如果有其他需求可以好好看看我的其他页面</p>
<p>###离线下载</p>
<p>Cloudreve的离线下载使用的是aria2来实现的所以要使用离线下载就得安装aria2</p>
<p>没有安装的参考这个服务器Aria篇</p>
<p>RPC 服务器地址</p>
<p>Aria2 RPC 服务器的地址，一般可填写为http://127.0.0.1:6800/ 。其中6800 为上文 Aria2 配置文件中指定的监听端口。也可以使用 WebSocket 通信，此处填写为ws://127.0.0.1:6800/ 。</p>
<p>RPC Secret</p>
<p>上文中在 Aria2 配置文件中设定的 RPC 授权令牌</p>
<p>临时下载目录</p>
<p>Cloudreve 会指定 Aria2 将文件下载到此目录中，下载完成后 Cloudreve 会复制到指定的存储策略，并删除文件。此目录必须为绝对路径，否则 Cloudreve 在任务下载完成后会找不到文件。Windows 下指定的绝对路径应该携带盘符，比如G:\www\downloads 。</p>
<p>状态刷新间隔（秒）</p>
<p>指定针对每一个任务，Cloudreve 向 Aria2 轮询更新任务状态的间隔。用户再前台看到的任务进度不会实时更新，而是根据这里设定的间隔自动刷新。</p>
<p>填好后点击测试看看能否使用。就好了</p>
]]></summary>
        <content type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mc7eCKOIOXJkY0V4Gt670NS5Ngx1ylrUGpoBJRFrXyaEouRgMbJCmJz5vdShl_puHT4tV4U5mXo0vO04zCapG1drorVlNplGV-8SubaZd7J9u9EcU8JCL6hoieVYcLq27jeZcDRU444pz_6268AJDFQxDPDC-FlYEOVD09U_-eZo8CteKJKjnTwLrBG7Hr8nb" alt="" loading="lazy"></figure>
<h2 id="安装">安装</h2>
<p>我这里用的是宝塔安装的，我觉得宝塔更加方便些对于新手而言。</p>
<p>你要是想用域名访问所创建cloudreve服务就得有个域名如果没有域名我们也可以使用IP来访问。我这里使用的是域名访问，IP访问的话就是少了个重定向</p>
<p>在宝塔的网站那里 添加站点将你的域名添写即可，提交之后会创建一个和你的域名相同的文件夹</p>
<p>以前是可以从<a href="http://cloudreve.org/">cloudreve</a>网站下载但是现在只能从他们的<a href="https://github.com/cloudreve/Cloudreve/releases">GitHub</a>页面上下载了。</p>
<p><mark>如果下载速度不理想可以看文末 [下载中心]里面提供了文件</mark></p>
<p>根据自己的需求下载相应的文件</p>
<figure data-type="image" tabindex="2"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4m7Bb3WXhRsgeOFIB2Uc5NdbGcYiwdAkKAScvNYbEmBk9OKzIVbseEocU4MmoQdNLMxNVxpLrYO714ORTyPG8SqZ94efbs2Eae_Bt3SsKbBUZwciOBmsqBzx-vwo_6nnB7aXNCRm0hUDr8Pj12ayAGZL-bFPJY1ymP1cM3hAThJo6Sxb7HXTy7UV2q70xivxmY" alt="" loading="lazy"></figure>
<p>下载好了的文件上传到你在之前自动创建的文件夹</p>
<figure data-type="image" tabindex="3"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mXZblb61mdGBzyHK9IQZexWSBh0yTnhDUMZQlW3vbj2yYtRnFmTv16PY7Ok6wrFJPK2cmiT_vjE2KGhS_8f8bYbtpSz-dQn8_GAXJiV3NixH4p29exHvNs6wqH8d2kCPjTRJSF4NjG-JlUbjkdYtJPbnsLjwoklmKVdkRVte_U9JQn_C7SK7NED84jZ2g842k" alt="" loading="lazy"></figure>
<p>上传好后在文件夹运行终端执行以下命令</p>
<pre><code class="language-javascript">
#解压获取到的主程序
tar -zxvf 这里是你下载的文件的名字
 
# 赋予执行权限
chmod +x ./cloudreve
 
# 启动 Cloudreve
./cloudreve
</code></pre>
<p>Cloudreve 在首次启动时，会创建初始管理员账号，注意保管好要不然只能去删除同级目录下的cloudreve.db</p>
<p>到这里就算安装好了</p>
<p>Cloudreve 默认会监听5212端口记着放行端口，有的服务器需要在服务器商提供的管理面板上修改安全组。</p>
<p>你可以在浏览器中访问http://服务器IP:5212进入 Cloudreve</p>
<h3 id="反向代理">反向代理</h3>
<p><mark>一般说使用这个宝塔的反代就可以，但是我在又一次进行反代的时候出现了问题，可以去看看这个<a href="https://eqing.vercel.app/post/cloudreve-shi-yong-guo-cheng-zhong-de-wen-ti/#div2">cloudreve</a>使用过程中的问题</mark></p>
<p>如果不打算使用域名访问可以忽略这一步</p>
<p>在宝塔的网站那里</p>
<figure data-type="image" tabindex="4"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mMBKWE2itrfKiZeMhjygKCddUgGxwdVfkJ5eslaRWWIt4MPBJUL_8ajjTK_1GBSgB_YIkYC9GQ2iB57cpWEcbKz86zRTptlp7ONWi_TrVCoQ9hCZuurF4PsGaeVEErUvF1_mTvRlONjyKPRxnXr30bNTukf91S_3BVwFywb3VPhEs1EeqgrP_DgTYkJSj2_vD" alt="" loading="lazy"></figure>
<p>然后</p>
<figure data-type="image" tabindex="5"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mzsOM3FjQENf5vpuvi2H1d5UBXLUO-VBT_NqqzxUdns035oCu7QehwjByi6zMbKA6mEGY4UXXtiJOA2cyrSa9eAjufpvJpd0xrNiAJV5mzgE3Xi_p6ULRSmDFM_lbgI2OwAqSMkDTFNAwjSLIzIqcWUV84XVaxd_WMtwUQ8hJEJYyI1dSZB-qn9OF8u1W13Pt" alt="" loading="lazy"></figure>
<p>再然后</p>
<figure data-type="image" tabindex="6"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mbLNnei26rlFMo4ZPPM7chxisMD8zRa6iVwpP5NMW9puSohGLqPvZMTSQYftnHJeNERMkv9xpd9BsxHLG-0sGPcN7sqh7HJtNLzvEk926T_kSIIo2vFtFIbPQpQP1ibxO4Ag_r-fhjwok6XG3RHOQO-jvGqdQxWyVLMwf-bYd7BNLHHBNJWgBjJgQfzCIsuUv" alt="" loading="lazy"></figure>
<p>就此反代也就弄好了</p>
<h3 id="进程守护">进程守护</h3>
<p>可以使用了但是要保证服务的稳定性使用要是用Supervisor来守护进程</p>
<p>到宝塔的应用商店搜索Supervisor管理器 安装</p>
<p>点开然后添加进程</p>
<p>每个人的目录可能不太一样，</p>
<pre><code>运行目录
/www/wwwroot/cloud.fongsera.online/
启动目录
/www/wwwroot/cloud.fongsera.online/cloudreve

</code></pre>
<figure data-type="image" tabindex="7"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mtal34kk5Vo-TqjqWk9zhF0qyBJQgtCUyiwpo30W-rSCZnVbeGNDNwzFu6XIxBoOAMREFRyWwtH9PiEroG47mMNZYc45yxuilvmkEydEpfKzTHkfZnk_BCPd-JjqrlhEBHk18R-OTKX2ATGUQHRONSUZafltvCApESTH7nYutnFeb0lA_21YzzCCNoLUfEkaR" alt="" loading="lazy"></figure>
<p>点确定就可以稳定运行了</p>
<h2 id="进阶玩法">进阶玩法</h2>
<h3 id="挂载onedrive">挂载Onedrive</h3>
<p>这里可以使用免费的5G套餐的，也可以使用教育邮箱申请的。这两个不论哪一个都是国际版的。</p>
<p>在cloudreve的界面找到管理面板，点击储存策略，点击添加储存策略，选择onedrive</p>
<figure data-type="image" tabindex="8"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4m8CEnqD5dL4war0kl2SR6jHsTLY-78ySYDj-uXJ0ZTrtSyFgpMdcghV3oLvWAR4h2l6C_bw0nUKrdQiYTt1wPkl_jaORhqicON4zxiFCp8at37VwYCKgxaFP0DL6hBxsdlI4Ta-CBqYgKm_wCBiDZdMnJSIHTF0lyIwUmQ2suIawDsE9B1oHzEEQazA1ZFmuG" alt="" loading="lazy"></figure>
<p>这些步骤里头较为主要的是③④⑤，国际版的前往Azure Active Directory 控制台 (国际版账号)</p>
<figure data-type="image" tabindex="9"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mi_jbMQFevxrr01AITVvePMYrY0XMdhwdzzsCNHASBXK5NGAAPBNMguWW5qNqQWH3I5yySEoxHtvkP-Jgu8Jqt4M0DYeCf6iWYdDCLQoHqCjgHxf90C_NTZL9EglyclPvsjOp2DUrex-QyZshFVjHMCL3ARdrMG_PGNq0BJz5GRs572FGMG88ybQiAUvzokV6" alt="" loading="lazy"></figure>
<p>进入控制台后再控制台页面的左侧，有一个应用程序注册或者叫应用注册的两个是一个东西。</p>
<figure data-type="image" tabindex="10"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mTPiOXZQCYq1CicUV8mezcDb9oOMxXdtOS7zCnxHBRKaAUuPQmmsY69_was3rleI_IijLO7-vrquubHxuG2J6CZELOf0m52aVHMzZC8-JajVs_Awss51om2dLW6T1m_-jiV3EbWYF1IY0CGCSMWBefG7155FmAHZ8GbLRtA0ACpDwmE8RignbiL5XcPDKxXir" alt="" loading="lazy"></figure>
<p>点击之后在点击新增注册</p>
<figure data-type="image" tabindex="11"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mrIJQVBQAq-WK2yRR9rTboq44rtX92KVIOXrgoQH7sb4WIm7wEik0BJhqtcVnSewhTstjkySXA5DiMm5PkcZo8A0kO36xuw6wmBq4QRcTFUc68mXSFUDWUPPInmDLnbgXJxFrSVjCdKLg6Z01Ve3acc7xOWkloJsNIzrj3kJb6eSUUhUj-Y2VTBZ3peE02AO0" alt="" loading="lazy"></figure>
<p>名字随便填，在支援的账户类型里选择任何组织目录(任何 Azure AD 目录 – 多租户)中的帐户，下面的重新导向URI里填写上面③中给的URI</p>
<figure data-type="image" tabindex="12"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mwJeyF7J4sVYTRRv2ANXmbxIL91cj_0OS8vph1WF3K-kLBS8jru80GInb-GZzk1sGufiX3LrCrFbfzeDC3smHkyNfdq43Xfw3o8Lp8HypNbqHelPx31M6azWVTBIFri8dd1eMshXG_NeZg3b6-XNWMuL0KciBDlRkHYPlpHdf2PdIWsFs5lmfMsLz1we_ehy4" alt="" loading="lazy"></figure>
<p>随后给出一个应用程序（客户端）ID，把这个填到④里面。在这个页面的左侧有一个证书和密码点击</p>
<figure data-type="image" tabindex="13"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mYk8FyrzIHGzwpKYYbLXuZAzXGTYo1bC-ITpkgmV34RewHK681Xnv1BbILqv9Ufjuk1lOn3ywQVypPx6xsxpeYNSe6GnlW7lQ_3zFHMVVPvBeF1gnAZA5hH-gL_bxTBI6MDboEVuHCAQZeFi66exEs3x0tzLn5-kCWXjYvGENNcen22xwb-gg2p7zvZkDHz0p" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="14"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mhZKE0XoEE9Qkt-Ac0Qns02i2p748-Iu4GDyXMpOGfRtY1yGf57I9fftEJxmFG10hLVjYpDUOshXoFLIaRj5oZiPQtMkCgRgsRQZDG_Zf1kGYd_6YYjdIMth4vGaC-EwYADCgp__vcqEa_GLBQX1kK3JWQG42kh95CblooHAR34cmQewfn7aaEPEMRp8BP9kA" alt="" loading="lazy"></figure>
<p>添加客户端密码，cloudreve的官方说可以设置截止时限为永久但实际只可以设置最长为24个月，应该是微软修改了规则了</p>
<figure data-type="image" tabindex="15"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4mWv6drjNx2i1eyCvF-Py8t7PRp-UMu9OZ5Kbq1-nvijtezc2U9gBqkRjMHGrN73y-svXhjnYd4nR4BvjatDEvmqSOMe7mfF0Ng3iCWGcF4JROfEq9-TOj5azr7Qf8oCGAy1I4xM69C9wuGr_D0fxpdvhcdFb3_5ig6Qvy8RnTRvEHnz_cgYj5dzm8iDY9yK9i" alt="" loading="lazy"></figure>
<p>添加好后将客户端密码的值填入⑤里面就没事了。</p>
<figure data-type="image" tabindex="16"><img src="https://gitee.com/fongsera/tu/raw/master/Cloudreve%E7%AF%87/y4meH1Nc_kO6BS_G33x5VFJr3PeFkhs7gmB72NswosCOETB1oFnJFm6egt-TGnqMPNyUyPbZ1KkpvyNPCBlxLP6BcSL1vc5soeFp9HXYKw60wCaCClci0YGLiBMc8Ox_qpAhmEm72rzCdMQy80MWnIVF7pKkuii9T5SgHZByQUHEZinWghpbUa76-BplC7_o_2p" alt="" loading="lazy"></figure>
<p>接下来就是点击下一步下一步了。如果有其他需求可以好好看看我的其他页面</p>
<p>###离线下载</p>
<p>Cloudreve的离线下载使用的是aria2来实现的所以要使用离线下载就得安装aria2</p>
<p>没有安装的参考这个服务器Aria篇</p>
<p>RPC 服务器地址</p>
<p>Aria2 RPC 服务器的地址，一般可填写为http://127.0.0.1:6800/ 。其中6800 为上文 Aria2 配置文件中指定的监听端口。也可以使用 WebSocket 通信，此处填写为ws://127.0.0.1:6800/ 。</p>
<p>RPC Secret</p>
<p>上文中在 Aria2 配置文件中设定的 RPC 授权令牌</p>
<p>临时下载目录</p>
<p>Cloudreve 会指定 Aria2 将文件下载到此目录中，下载完成后 Cloudreve 会复制到指定的存储策略，并删除文件。此目录必须为绝对路径，否则 Cloudreve 在任务下载完成后会找不到文件。Windows 下指定的绝对路径应该携带盘符，比如G:\www\downloads 。</p>
<p>状态刷新间隔（秒）</p>
<p>指定针对每一个任务，Cloudreve 向 Aria2 轮询更新任务状态的间隔。用户再前台看到的任务进度不会实时更新，而是根据这里设定的间隔自动刷新。</p>
<p>填好后点击测试看看能否使用。就好了</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[早--使用OneDrive作为图床]]></title>
        <id>https://eqing.vercel.app/post/zao-shi-yong-onedrive-zuo-wei-tu-chuang/</id>
        <link href="https://eqing.vercel.app/post/zao-shi-yong-onedrive-zuo-wei-tu-chuang/">
        </link>
        <updated>2021-06-28T06:42:26.000Z</updated>
    </entry>
</feed>